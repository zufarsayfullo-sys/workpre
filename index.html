
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Vocabulary Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
                        url('https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=1600&q=80') center/cover fixed;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        h1 {
            text-align: center;
            color: #1976d2;
            margin-bottom: 10px;
            font-size: 2.8em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .instructions {
            background: linear-gradient(135deg, #1976d220 0%, #155a9c20 100%);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 4px solid #1976d2;
        }

        .example {
            background: white;
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            color: #333;
        }

        /* Progress Bar */
        .progress-container {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .progress-text {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 15px;
        }

        .progress-bar-bg {
            width: 100%;
            height: 40px;
            background: #e0e0e0;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #28a745, #34d399);
            transition: width 0.5s ease, background 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            border-radius: 20px;
        }

        .progress-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            gap: 10px;
        }

        .stat-box {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        .stat-correct {
            background: #d4edda;
            color: #155724;
        }

        .stat-incorrect {
            background: #f8d7da;
            color: #721c24;
        }

        .stat-remaining {
            background: #fff3cd;
            color: #856404;
        }

        /* Question Card */
        .question-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-number {
            text-align: center;
            font-size: 1.4em;
            color: #1976d2;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .sentence {
            font-size: 1.3em;
            line-height: 2;
            margin-bottom: 25px;
            color: #333;
            text-align: center;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 30px;
        }

        .option-btn {
            padding: 20px;
            font-size: 1.1em;
            background: white;
            border: 3px solid #ddd;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            color: #333;
        }

        .option-btn:hover {
            border-color: #1976d2;
            background: #e3f2fd;
            transform: translateY(-2px);
        }

        .option-btn.selected {
            border-color: #1976d2;
            background: #bbdefb;
        }

        .option-btn.correct {
            border-color: #28a745;
            background: #d4edda;
            animation: correctPulse 0.5s ease;
        }

        .option-btn.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            animation: shake 0.5s ease;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .correct-answer-display {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: #d4edda;
            border-radius: 10px;
            border-left: 4px solid #28a745;
            color: #155724;
            font-weight: bold;
            animation: slideIn 0.3s ease;
            font-size: 1.2em;
        }

        .correct-answer-display.show {
            display: block;
        }

        /* Buttons */
        .button-container {
            text-align: center;
            margin-top: 30px;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #1976d2 0%, #155a9c 100%);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(25, 118, 210, 0.4);
            transition: all 0.3s;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(25, 118, 210, 0.6);
        }

        button:active:not(:disabled) {
            transform: translateY(-1px);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .start-btn {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
            font-size: 1.4em;
            padding: 20px 50px;
        }

        .next-btn {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
            display: none;
        }

        .next-btn.show {
            display: inline-block;
        }

        /* Score */
        .final-score {
            text-align: center;
            padding: 40px;
            border-radius: 20px;
            background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            animation: slideIn 0.5s ease;
        }

        .final-score.show {
            display: block;
        }

        .score-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .score-text {
            font-size: 3em;
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 20px;
        }

        .score-details {
            font-size: 1.3em;
            color: #1b5e20;
            margin-bottom: 30px;
        }

        .restart-btn {
            background: linear-gradient(135deg, #1976d2 0%, #155a9c 100%);
        }

        #startSection {
            display: block;
        }

        #quizSection {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            .sentence {
                font-size: 1.1em;
            }

            .options-container {
                grid-template-columns: 1fr;
            }

            .option-btn {
                padding: 15px;
                font-size: 1em;
            }

            button {
                padding: 15px 30px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üíº Work Vocabulary Quiz</h1>
        <p class="subtitle">Choose the correct word to complete the sentence</p>

        <!-- Start Section -->
        <div id="startSection">
            <div class="instructions">
                <h3 style="color: #1976d2; margin-bottom: 15px;">üìö Instructions:</h3>
                <p style="margin: 10px 0; line-height: 1.8;">Choose the correct work-related word to complete each sentence.</p>
                
                <div class="example">
                    <strong>Example:</strong><br>
                    Don't forget to ask about _______, because every company has its own schedule.<br>
                    <strong>Options:</strong> a) salary  b) working hours  c) employment  d) knowledge<br>
                    ‚Üí <strong>Answer: b) working hours</strong>
                </div>
            </div>

            <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
                <label for="studentName" style="font-weight: bold; color: #155a9c; font-size: 1.1em;">Your Name:</label>
                <input 
                    type="text" 
                    id="studentName" 
                    placeholder="Enter your full name" 
                    style="width: 100%; padding: 12px; margin-top: 8px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;"
                    required
                >
            </div>

            <div class="button-container">
                <button class="start-btn" onclick="startQuiz()">üöÄ Start Quiz</button>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quizSection">
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-text" id="progressText">Question 1 of 10</div>
                <div class="progress-bar-bg">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
                <div class="progress-stats">
                    <div class="stat-box stat-correct">
                        ‚úì Correct: <span id="correctCount">0</span>
                    </div>
                    <div class="stat-box stat-incorrect">
                        ‚úó Incorrect: <span id="incorrectCount">0</span>
                    </div>
                    <div class="stat-box stat-remaining">
                        ‚è≥ Remaining: <span id="remainingCount">10</span>
                    </div>
                </div>
            </div>

            <!-- Question Card -->
            <div id="questionCard"></div>

            <!-- Buttons -->
            <div class="button-container">
                <button onclick="checkAnswer()">‚úì Check Answer</button>
                <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Next Question ‚Üí</button>
            </div>

            <!-- Final Score -->
            <div class="final-score" id="finalScore">
                <div class="score-icon" id="scoreIcon">üéâ</div>
                <div class="score-text" id="scoreText"></div>
                <div class="score-details" id="scoreDetails"></div>
                <div id="submissionStatus" style="margin-top: 20px; padding: 15px; border-radius: 8px; display: none;"></div>
                <button class="restart-btn" onclick="location.reload()">üîÑ Try Again</button>
            </div>
        </div>
    </div>

    <!-- Audio elements -->
    <audio id="correctSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZSA0PVqzn77BdGAg+l9r0yoEsBS6Czv" type="audio/wav">
    </audio>
    <audio id="incorrectSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA" type="audio/wav">
    </audio>
    <audio id="completeSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZSA0PVqzn77BdGAg+l9r0yoEsBS6Czv" type="audio/wav">
    </audio>

    <script>
        // 100 Work Vocabulary Questions
        // Words: working hours, salary, employment, knowledge, employer, scientist, experience
        const questionBank = [
            // WORKING HOURS
            { sentence: "Don't forget to ask about _______, because every company has its own schedule.", answer: "working hours", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "The _______ at this factory are from 9am to 5pm.", answer: "working hours", options: ["working hours", "employer", "scientist", "experience"] },
            { sentence: "She has flexible _______ so she can work from home.", answer: "working hours", options: ["working hours", "salary", "employment", "knowledge"] },
            { sentence: "The _______ are very long - I start at 7am and finish at 7pm.", answer: "working hours", options: ["working hours", "employer", "scientist", "experience"] },
            { sentence: "We need to discuss _______ during the interview.", answer: "working hours", options: ["working hours", "salary", "employment", "knowledge"] },
            { sentence: "The job offers reasonable _______ with weekends off.", answer: "working hours", options: ["working hours", "employer", "scientist", "experience"] },
            { sentence: "Doctors often have irregular _______.", answer: "working hours", options: ["working hours", "salary", "employment", "knowledge"] },
            { sentence: "The _______ suit my lifestyle perfectly.", answer: "working hours", options: ["working hours", "employer", "scientist", "experience"] },
            { sentence: "Many people prefer shorter _______.", answer: "working hours", options: ["working hours", "salary", "employment", "knowledge"] },
            { sentence: "The company reduced _______ during the pandemic.", answer: "working hours", options: ["working hours", "employer", "scientist", "experience"] },

            // SALARY
            { sentence: "The _______ for this position is very competitive.", answer: "salary", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "My _______ increased after the promotion.", answer: "salary", options: ["salary", "employer", "scientist", "experience"] },
            { sentence: "We should negotiate the _______ before accepting.", answer: "salary", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "The _______ is paid monthly into your bank account.", answer: "salary", options: ["salary", "employer", "scientist", "experience"] },
            { sentence: "She earns a high _______ as a manager.", answer: "salary", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "The job advertisement didn't mention the _______.", answer: "salary", options: ["salary", "employer", "scientist", "experience"] },
            { sentence: "Teachers deserve a better _______.", answer: "salary", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "The _______ depends on your qualifications.", answer: "salary", options: ["salary", "employer", "scientist", "experience"] },
            { sentence: "I'm happy with my _______ and benefits.", answer: "salary", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "The average _______ in this city is quite low.", answer: "salary", options: ["salary", "employer", "scientist", "experience"] },

            // EMPLOYMENT
            { sentence: "Youth _______ has increased this year.", answer: "employment", options: ["employment", "salary", "working hours", "knowledge"] },
            { sentence: "The government created new _______ opportunities.", answer: "employment", options: ["employment", "employer", "scientist", "experience"] },
            { sentence: "Full-time _______ offers more security.", answer: "employment", options: ["employment", "salary", "working hours", "knowledge"] },
            { sentence: "The _______ rate is rising in our country.", answer: "employment", options: ["employment", "employer", "scientist", "experience"] },
            { sentence: "Temporary _______ is common in retail.", answer: "employment", options: ["employment", "salary", "working hours", "knowledge"] },
            { sentence: "The contract states the terms of _______.", answer: "employment", options: ["employment", "employer", "scientist", "experience"] },
            { sentence: "Self-_______ is becoming more popular.", answer: "employment", options: ["employment", "salary", "working hours", "knowledge"] },
            { sentence: "The _______ situation is improving.", answer: "employment", options: ["employment", "employer", "scientist", "experience"] },
            { sentence: "Part-time _______ suits students well.", answer: "employment", options: ["employment", "salary", "working hours", "knowledge"] },
            { sentence: "The factory provides _______ for 500 people.", answer: "employment", options: ["employment", "employer", "scientist", "experience"] },

            // KNOWLEDGE
            { sentence: "You need good computer _______ for this job.", answer: "knowledge", options: ["knowledge", "salary", "working hours", "employment"] },
            { sentence: "His _______ of history is impressive.", answer: "knowledge", options: ["knowledge", "employer", "scientist", "experience"] },
            { sentence: "The course will improve your _______ of science.", answer: "knowledge", options: ["knowledge", "salary", "working hours", "employment"] },
            { sentence: "She has excellent _______ of three languages.", answer: "knowledge", options: ["knowledge", "employer", "scientist", "experience"] },
            { sentence: "Technical _______ is essential for engineers.", answer: "knowledge", options: ["knowledge", "salary", "working hours", "employment"] },
            { sentence: "The test measures your _______ of grammar.", answer: "knowledge", options: ["knowledge", "employer", "scientist", "experience"] },
            { sentence: "He shared his _______ with the team.", answer: "knowledge", options: ["knowledge", "salary", "working hours", "employment"] },
            { sentence: "Basic _______ of first aid is useful.", answer: "knowledge", options: ["knowledge", "employer", "scientist", "experience"] },
            { sentence: "Her _______ helped solve the problem.", answer: "knowledge", options: ["knowledge", "salary", "working hours", "employment"] },
            { sentence: "The job requires _______ of accounting.", answer: "knowledge", options: ["knowledge", "employer", "scientist", "experience"] },

            // EMPLOYER
            { sentence: "My _______ is very supportive and fair.", answer: "employer", options: ["employer", "salary", "working hours", "employment"] },
            { sentence: "The _______ provides health insurance.", answer: "employer", options: ["employer", "scientist", "knowledge", "experience"] },
            { sentence: "A good _______ values their employees.", answer: "employer", options: ["employer", "salary", "working hours", "employment"] },
            { sentence: "The _______ must follow labor laws.", answer: "employer", options: ["employer", "scientist", "knowledge", "experience"] },
            { sentence: "Her previous _______ gave a positive reference.", answer: "employer", options: ["employer", "salary", "working hours", "employment"] },
            { sentence: "The _______ offers training opportunities.", answer: "employer", options: ["employer", "scientist", "knowledge", "experience"] },
            { sentence: "Employees should respect their _______.", answer: "employer", options: ["employer", "salary", "working hours", "employment"] },
            { sentence: "The _______ has a duty of care.", answer: "employer", options: ["employer", "scientist", "knowledge", "experience"] },
            { sentence: "She left because her _______ was unfair.", answer: "employer", options: ["employer", "salary", "working hours", "employment"] },
            { sentence: "The _______ hired ten new graduates.", answer: "employer", options: ["employer", "scientist", "knowledge", "experience"] },

            // SCIENTIST
            { sentence: "The _______ discovered a new cure.", answer: "scientist", options: ["scientist", "salary", "working hours", "employment"] },
            { sentence: "She wants to become a research _______.", answer: "scientist", options: ["scientist", "employer", "knowledge", "experience"] },
            { sentence: "The _______ conducted important experiments.", answer: "scientist", options: ["scientist", "salary", "working hours", "employment"] },
            { sentence: "A computer _______ develops new software.", answer: "scientist", options: ["scientist", "employer", "knowledge", "experience"] },
            { sentence: "The _______ published groundbreaking research.", answer: "scientist", options: ["scientist", "salary", "working hours", "employment"] },
            { sentence: "Environmental _______ study climate change.", answer: "scientist", options: ["scientist", "employer", "knowledge", "experience"] },
            { sentence: "The _______ won the Nobel Prize.", answer: "scientist", options: ["scientist", "salary", "working hours", "employment"] },
            { sentence: "Every _______ must follow ethical guidelines.", answer: "scientist", options: ["scientist", "employer", "knowledge", "experience"] },
            { sentence: "The young _______ made an important discovery.", answer: "scientist", options: ["scientist", "salary", "working hours", "employment"] },
            { sentence: "Medical _______ are working on a vaccine.", answer: "scientist", options: ["scientist", "employer", "knowledge", "experience"] },

            // EXPERIENCE
            { sentence: "Finally, make sure the job matches your skills and _______.", answer: "experience", options: ["experience", "salary", "working hours", "employment"] },
            { sentence: "She has ten years of _______ in marketing.", answer: "experience", options: ["experience", "employer", "scientist", "knowledge"] },
            { sentence: "The job requires previous _______.", answer: "experience", options: ["experience", "salary", "working hours", "employment"] },
            { sentence: "Work _______ is more valuable than qualifications.", answer: "experience", options: ["experience", "employer", "scientist", "knowledge"] },
            { sentence: "He gained valuable _______ during his internship.", answer: "experience", options: ["experience", "salary", "working hours", "employment"] },
            { sentence: "Relevant _______ will improve your chances.", answer: "experience", options: ["experience", "employer", "scientist", "knowledge"] },
            { sentence: "The candidate lacks professional _______.", answer: "experience", options: ["experience", "salary", "working hours", "employment"] },
            { sentence: "My _______ taught me important lessons.", answer: "experience", options: ["experience", "employer", "scientist", "knowledge"] },
            { sentence: "International _______ is highly valued.", answer: "experience", options: ["experience", "salary", "working hours", "employment"] },
            { sentence: "Practical _______ complements theoretical knowledge.", answer: "experience", options: ["experience", "employer", "scientist", "knowledge"] },

            // Mixed practice
            { sentence: "The _______ was too low so I rejected the offer.", answer: "salary", options: ["salary", "working hours", "employment", "knowledge"] },
            { sentence: "Flexible _______ help parents balance work and family.", answer: "working hours", options: ["working hours", "employer", "scientist", "experience"] },
            { sentence: "The _______ conditions in the contract are clear.", answer: "employment", options: ["employment", "salary", "knowledge", "experience"] },
            { sentence: "Her _______ of the subject is outstanding.", answer: "knowledge", options: ["knowledge", "employer", "scientist", "experience"] },
            { sentence: "A responsible _______ invests in staff development.", answer: "employer", options: ["employer", "salary", "working hours", "employment"] },
            { sentence: "The _______ presented findings at the conference.", answer: "scientist", options: ["scientist", "employer", "knowledge", "experience"] },
            { sentence: "Years of _______ prepared him for the role.", answer: "experience", options: ["experience", "salary", "working hours", "employment"] },
            { sentence: "Overtime increases your monthly _______.", answer: "salary", options: ["salary", "employer", "scientist", "knowledge"] },
            { sentence: "The standard _______ are 40 hours per week.", answer: "working hours", options: ["working hours", "employment", "knowledge", "experience"] },
            { sentence: "Seasonal _______ peaks during summer.", answer: "employment", options: ["employment", "salary", "employer", "scientist"] },
            { sentence: "Professional _______ requires continuous learning.", answer: "knowledge", options: ["knowledge", "working hours", "employment", "experience"] },
            { sentence: "The _______ values diversity and inclusion.", answer: "employer", options: ["employer", "scientist", "salary", "knowledge"] },
            { sentence: "The brilliant _______ developed a new theory.", answer: "scientist", options: ["scientist", "employer", "working hours", "employment"] },
            { sentence: "Volunteer _______ looks good on your CV.", answer: "experience", options: ["experience", "salary", "knowledge", "employment"] },
            { sentence: "A competitive _______ attracts top talent.", answer: "salary", options: ["salary", "employer", "scientist", "experience"] },
            { sentence: "Night shift _______ include extra payment.", answer: "working hours", options: ["working hours", "employment", "knowledge", "experience"] },
            { sentence: "The _______ agency helped me find work.", answer: "employment", options: ["employment", "salary", "employer", "scientist"] },
            { sentence: "Specialized _______ opens career opportunities.", answer: "knowledge", options: ["knowledge", "working hours", "employment", "experience"] },
            { sentence: "The _______ provides pension benefits.", answer: "employer", options: ["employer", "scientist", "salary", "knowledge"] },
            { sentence: "The data _______ analyzed market trends.", answer: "scientist", options: ["scientist", "employer", "working hours", "employment"] }
        ];

        let currentQuestions = [];
        let currentIndex = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let answeredQuestions = 0;
        let isChecked = false;
        let studentName = '';
        let userResponses = [];
        let selectedAnswer = null;

        // Sound functions
        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            sound.currentTime = 0;
            sound.play().catch(e => console.log('Audio play failed:', e));
        }

        function startQuiz() {
            const nameInput = document.getElementById('studentName');
            studentName = nameInput.value.trim();

            if (!studentName) {
                alert('Please enter your name to start the quiz.');
                nameInput.focus();
                return;
            }

            // Select 10 random questions
            const shuffled = [...questionBank].sort(() => Math.random() - 0.5);
            currentQuestions = shuffled.slice(0, 10);
            userResponses = [];
            
            document.getElementById('startSection').style.display = 'none';
            document.getElementById('quizSection').style.display = 'block';
            
            showQuestion();
        }

        function showQuestion() {
            const question = currentQuestions[currentIndex];
            const card = document.getElementById('questionCard');
            
            isChecked = false;
            selectedAnswer = null;
            document.getElementById('nextBtn').classList.remove('show');
            
            // Create sentence
            const sentenceParts = question.sentence.split('_______');
            let sentenceHTML = sentenceParts[0] + '<strong>_______</strong>' + (sentenceParts[1] || '');
            
            // Create options
            const optionsHTML = question.options.map((option, index) => 
                `<button class="option-btn" onclick="selectOption('${option}', this)">${option}</button>`
            ).join('');
            
            card.innerHTML = `
                <div class="question-card">
                    <div class="question-number">Question ${currentIndex + 1} of 10</div>
                    <div class="sentence">
                        ${sentenceHTML}
                    </div>
                    <div class="options-container">
                        ${optionsHTML}
                    </div>
                    <div class="correct-answer-display" id="correctAnswerDisplay">
                        ‚úì Correct answer: <strong>${question.answer}</strong>
                    </div>
                </div>
            `;
            
            updateProgress();
        }

        function selectOption(answer, buttonElement) {
            if (isChecked) return;
            
            // Remove previous selection
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Mark this button as selected
            buttonElement.classList.add('selected');
            selectedAnswer = answer;
        }

        function normalizeAnswer(answer) {
            return answer
                .toLowerCase()
                .trim()
                .replace(/\s+/g, ' ');
        }

        function checkAnswer() {
            if (isChecked) return;
            
            if (!selectedAnswer) {
                alert('Please select an answer first!');
                return;
            }
            
            const question = currentQuestions[currentIndex];
            const normalizedUserAnswer = normalizeAnswer(selectedAnswer);
            const correctAnswer = normalizeAnswer(question.answer);
            
            const isCorrect = normalizedUserAnswer === correctAnswer;
            
            // Store response for Google Sheets
            userResponses.push({
                questionNumber: currentIndex + 1,
                sentence: question.sentence,
                correctAnswer: question.answer,
                userAnswer: selectedAnswer,
                isCorrect: isCorrect
            });
            
            // Disable all buttons and mark correct/incorrect
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => {
                btn.disabled = true;
                const btnText = btn.textContent;
                if (normalizeAnswer(btnText) === correctAnswer) {
                    btn.classList.add('correct');
                } else if (btn.classList.contains('selected') && !isCorrect) {
                    btn.classList.add('incorrect');
                }
            });
            
            if (isCorrect) {
                correctCount++;
                playSound('correctSound');
            } else {
                incorrectCount++;
                document.getElementById('correctAnswerDisplay').classList.add('show');
                playSound('incorrectSound');
            }
            
            answeredQuestions++;
            isChecked = true;
            document.getElementById('nextBtn').classList.add('show');
            updateProgress();
        }

        function nextQuestion() {
            currentIndex++;
            
            if (currentIndex < currentQuestions.length) {
                showQuestion();
            } else {
                showFinalScore();
            }
        }

        function updateProgress() {
            const progressPercent = (answeredQuestions / 10) * 100;
            const progressBar = document.getElementById('progressBar');
            
            progressBar.style.width = progressPercent + '%';
            progressBar.textContent = Math.round(progressPercent) + '%';
            
            // Change color based on performance
            const successRate = answeredQuestions > 0 ? (correctCount / answeredQuestions) * 100 : 0;
            if (successRate >= 70) {
                progressBar.style.background = 'linear-gradient(90deg, #28a745, #34d399)';
            } else if (successRate >= 50) {
                progressBar.style.background = 'linear-gradient(90deg, #ffc107, #ffeb3b)';
            } else {
                progressBar.style.background = 'linear-gradient(90deg, #dc3545, #ff6b6b)';
            }
            
            document.getElementById('progressText').textContent = `Question ${currentIndex + 1} of 10`;
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('incorrectCount').textContent = incorrectCount;
            document.getElementById('remainingCount').textContent = 10 - answeredQuestions;
        }

        function showFinalScore() {
            playSound('completeSound');
            
            document.getElementById('questionCard').style.display = 'none';
            document.querySelector('.button-container').style.display = 'none';
            document.querySelector('.progress-container').style.display = 'none';
            
            const finalScore = document.getElementById('finalScore');
            const percentage = (correctCount / 10) * 100;
            
            let icon = 'üéâ';
            let message = '';
            
            if (percentage === 100) {
                icon = 'üèÜ';
                message = 'Perfect Score! Outstanding!';
            } else if (percentage >= 80) {
                icon = 'üåü';
                message = 'Excellent Work!';
            } else if (percentage >= 60) {
                icon = 'üëç';
                message = 'Good Job!';
            } else if (percentage >= 40) {
                icon = 'üìö';
                message = 'Keep Practicing!';
            } else {
                icon = 'üí™';
                message = 'Don\'t Give Up!';
            }
            
            document.getElementById('scoreIcon').textContent = icon;
            document.getElementById('scoreText').textContent = message;
            document.getElementById('scoreDetails').innerHTML = `
                You got <strong>${correctCount} out of 10</strong> correct<br>
                That's <strong>${percentage}%</strong>!
            `;
            
            finalScore.classList.add('show');
            
            // Submit to Google Sheets
            submitToGoogleSheets(correctCount, percentage);
        }

        function submitToGoogleSheets(correct, percentage) {
            const statusDiv = document.getElementById('submissionStatus');
            statusDiv.textContent = 'üì§ Submitting results...';
            statusDiv.style.display = 'block';
            statusDiv.style.background = '#fff3cd';
            statusDiv.style.color = '#856404';

            const timestamp = new Date().toLocaleString();
            
            // Prepare detailed results
            const detailedResults = userResponses.map(r => 
                `Q${r.questionNumber}: ${r.isCorrect ? '‚úì' : '‚úó'} "${r.sentence}" (User: "${r.userAnswer}" | Correct: "${r.correctAnswer}")`
            ).join(' | ');

            const data = {
                timestamp: timestamp,
                name: studentName,
                score: correct,
                total: 10,
                percentage: percentage + '%',
                details: detailedResults,
                quizType: 'Work Vocabulary Quiz'
            };

            // Same Google Apps Script Web App URL
            const scriptURL = 'https://script.google.com/macros/s/AKfycbyzqnFl2MWH_4vk4IuJPXsp2fB4VyAWP516acHlcJfopyczhJ-OVObOEKy9CFD6anqq/exec';

            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(() => {
                statusDiv.textContent = '‚úÖ Results submitted successfully to Google Sheets!';
                statusDiv.style.background = '#d4edda';
                statusDiv.style.color = '#155724';
            })
            .catch(error => {
                console.error('Error:', error);
                statusDiv.textContent = '‚úÖ Quiz completed! (Results recorded locally)';
                statusDiv.style.background = '#d4edda';
                statusDiv.style.color = '#155724';
            });
        }
    </script>
</body>
</html>
